/* module-tnc@v1.0.0 build with â™¥ by bb-lp-cli@v1.9.17 */
!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("base"),require("core"),require("ui")):"function"==typeof define&&define.amd?define(["base","core","ui"],o):"object"==typeof exports?exports["module-tnc"]=o(require("base"),require("core"),require("ui")):e["module-tnc"]=o(e.base,e.core,e.ui)}(this,function(e,o,t){return function(e){function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var t={};return o.m=e,o.c=t,o.p="/",o(0)}([function(e,exports,o){e.exports=o(1)},function(e,exports,o){var t;(function(e){"use strict";t=function(require,exports,e){e.name="module-amb-loading";var t=o(3),n=o(4),r=o(5),i=[n.name,r.name];e.exports=t.createModule(e.name,i).factory(o(6))}.call(exports,o,exports,e),!(void 0!==t&&(e.exports=t))}).call(exports,o(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(o,exports){o.exports=e},function(e,exports){e.exports=o},function(e,exports){e.exports=t},function(e,exports,o){var t;t=function(require,exports){exports.spinner=function(e,o,t,n,r,i,s,a,l,c){var u=angular.element(document.querySelector("#loadingContainer"));console.log("loadingContainer",u),t.subscribe("mobile-updateLanguage",function(e){console.log(e),r.setLocale(e.lang),t.publish(n.LOCALE_CHANGE_EVENT,e.lang)});var p=document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1,f=!1,d=l.root+"/services/rest/v1/authorizations/refreshToken";return s.configureNotifications({ignore:[d]}),t.subscribe("ambank-refreshToken",function(){navigator.userAgent.toLowerCase();if(a.isMobileDevice()&&p){if(f=window.localStorage.getItem("isRefreshTokenReq"),null!=f&&void 0!=f&&(1==f||"true"==f))return;f=!0,window.localStorage.setItem("isRefreshTokenReq",f);var e=window.localStorage.getItem("refreshToken"),o={params:{grantType:"refresh_token",refreshToken:e}};i.post(d,{},o).then(function(e){if(console.log(e),e.status>=200&&e.status<400){f=!1;var o=e.data;window.localStorage.setItem("accessToken",o.tokenType+" "+o.accessToken),window.localStorage.setItem("expiresIn",o.expiresIn),window.localStorage.setItem("refreshToken",o.refreshToken),console.log(window.localStorage),t.publish("ambank-appResetTimer")}window.localStorage.setItem("isRefreshTokenReq",f)}).catch(function(e){console.log(e),f=!1,window.localStorage.setItem("isRefreshTokenReq",f)})}}),{startLoading:function(){console.log("start"),t.publish("ambank-startSpinner",{widgetId:c.id});var e=u.addClass("is-loading");return e},stopLoading:function(){console.log("stops"),t.publish("ambank-stopSpinner",{widgetId:c.id});var e=u.removeClass("is-loading");return e}}},exports.spinner.$inject=["$parse","$timeout","lpCoreBus","lpCoreI18nUtils","lpCoreI18n","$http","lpCoreHttpInterceptor","lpCoreUtils","lpPortal","lpWidget"]}.call(exports,o,exports,e),!(void 0!==t&&(e.exports=t))}])});
//# sourceMappingURL=main.js.map