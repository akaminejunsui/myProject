new function(){var DOMReflector=b$.bdom.util.DOMReflector;var RFL_DOM2Control=b$.bdom.util.RFL_DOM2Control;var RFL_Preference2Control=RFL_DOM2Control.extend(null,{xns:'http://www.w3.org/1999/xhtml',ns:'http://backbase.com/2012/view',localName:'input',doMatch:function(model){if(!this.match){return true;}var sInputType=model.inputType.name;if(model.viewHint){var aViewHints=model.viewHint.split(/,/);for(var j=0;j<aViewHints.length;j++){if(aViewHints[j]==this.match){return true;}}}if(sInputType==this.match)return true;return false;},initInstance:function(bdom,model){bdom.model=model;bdom.ctrl=this;bdom.setAttribute('type',this.type);bdom.setAttribute('name',model.name);bdom.setAttribute('value',model.value);if(this.type=='checkbox'||this.type=='radio'){if(model.value=='true')bdom.setAttribute('checked',model.value);}model.addEventListener('change',function(evt){});bdom.addEventListener('change',function(evt){model.setValue(evt.target.getDisplay('input').value);});model.addEventListener('DOMNodeRemovedFromDocument',function(evt){});},defaultRead:function(bdom){return This.getDisplay('input').value;},defaultUpdate:function(bdom){bdom.setAttribute('value',value);},defaultDelete:function(bdom){}});var RFL_Preference2ControlEnumeration=RFL_Preference2Control.extend(null,{getInstance:function(model,ownerDocument,id){ownerDocument._newIDhack=id;var vclass=b$.bdom.namespaces[this.getNS()].getClass(this.getLocalName(model));var bdom=new vclass(ownerDocument,this.getNS(),this.getLocalName(model));var isRadio=this.localName=='radio';var voption=b$.bdom.namespaces[this.getNS()].getClass(isRadio?'input':'option');for(var i=0,l=model.inputType.options.length;i<l;i++){var bdomOption=new voption(ownerDocument);var v=model.inputType.options[i].value;bdomOption.setAttribute('value',v);if(isRadio){bdomOption.setAttribute('type','radio');bdomOption.setAttribute('label',model.inputType.options[i].label);}if(v==model.value){if(isRadio){bdomOption.setAttribute('checked','checked');}else{bdomOption.setAttribute('selected','true');}}if(!isRadio){var textNode=ownerDocument.createTextNode(model.inputType.options[i].label);bdomOption.appendChild(textNode);}bdom.appendChild(bdomOption);};return bdom;}});var domReflector=new DOMReflector();domReflector.addToSet('default',[new RFL_Preference2Control({match:'text',type:'text',render:true,getValue:function(view){return view.getDisplay('input').value}}),new RFL_Preference2Control({match:'textarea',localName:'textarea',render:true,getValue:function(view){return view.htmlNode.value}}),new RFL_Preference2Control({match:'password',type:'password',render:true,getValue:function(view){return view.getDisplay('input').value}}),new RFL_Preference2ControlEnumeration({match:'radio',localName:'radio',render:true,getValue:function(view){var radios=view.getDisplay('radio-group').getElementsByTagName('input');for(var idx=radios.length;idx--;){if(radios[idx].checked)return radios[idx].value;}}}),new RFL_Preference2Control({match:'checkbox',localName:'switch',render:true,getValue:function(view){return view.getDisplay('input').checked}}),new RFL_Preference2Control({match:'checkbox-multiple',type:'checkbox',render:true,getValue:function(view){return view.getDisplay('input').checked}}),new RFL_Preference2ControlEnumeration({match:'select-one',localName:'select',render:true,getValue:function(view){return view.getDisplay('select').value}}),new RFL_Preference2Control({match:'select-multiple',type:'select',render:true,getValue:function(view){return view.htmlNode.value}}),new RFL_Preference2Control({match:'',type:'text',render:true,getValue:function(view){return''}})]);b$.portal.setController('preferences',domReflector);}