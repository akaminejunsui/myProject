/* amb-ui@v1.0.0 build with â™¥ by bb-lp-cli@v1.9.17 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("ui"),require("core")):"function"==typeof define&&define.amd?define(["base","ui","core"],t):"object"==typeof exports?exports["amb-ui"]=t(require("base"),require("ui"),require("core")):e["amb-ui"]=t(e.base,e.ui,e.core)}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,exports,t){e.exports=t(1)},function(e,exports,t){var n;(function(e){"use strict";n=function(require,exports,e){e.name="amb-ui";var n=t(3),i=t(4);t(5),t(6);var o=[i.name,"amb-ui",t(7).name,"ui.mask"];e.exports=n.createModule(e.name,o)}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports,t){var n;n=function(require,exports,e){var n=t(3).ng;n.module("amb-ui",["amb-ui.tpls","amb-ui.dropdownAmb","amb-ui.dropdownSelectAmb"]),n.module("amb-ui.tpls",["template/dropdownSelectAmb/option.html","template/dropdownSelectAmb/placeholder-empty.html","template/dropdownSelectAmb/select.html"]),n.module("amb-ui.dropdownAmb",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(o){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==o&&(t.isOpen=!1),t=o},this.close=function(o){t===o&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(){t.$apply(function(){t.isOpen=!1})},i=function(e){27===e.which&&n()}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,i,o,r,l){var a,s=this,c=e.$new(),u=o.openClass,p=n.noop,d=t.onToggle?i(t.onToggle):n.noop;this.init=function(n){s.$element=n,t.isOpen&&(a=i(t.isOpen),p=a.assign,e.$watch(a,function(e){c.isOpen=!!e}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.focusToggleElement=function(){s.triggerElement&&s.triggerElement[0].focus()},c.$watch("isOpen",function(t,n){l[t?"addClass":"removeClass"](s.$element,u),t?r.open(c):(r.close(c),n&&c.focusToggleElement()),p(e,t),d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()})}]).directive("dropdownAmb",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggleAmb",function(){return{restrict:"CA",require:"?^dropdownAmb",link:function(e,t,n,i){i&&(i.triggerElement=t,t.bind("click",function(n){n.preventDefault(),n.stopPropagation(),t.hasClass("disabled")||t.prop("disabled")||e.$apply(function(){i.toggle()})}),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}))}}}),n.module("amb-ui.dropdownSelectAmb",["amb-ui.dropdownAmb"]).constant("dropdownSelectConfig",{emptyPlaceholderText:"Nothing selected"}).factory("optionsParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected dropdown specification in form of "_viewValue_ (as _label_)? (group by _groupname_)? for _item_ in _collection_" but got "'+n+'".');var o=i[4]||i[6];return{displayFn:e(i[2]||i[1]),valueName:o,keyName:i[5],groupByFn:e(i[3]||""),valueFn:e(i[2]?i[1]:o),valuesFn:e(i[5])}}}}]).controller("DropdownSelectController",["$scope","$attrs","$parse","optionsParser","dropdownSelectConfig","filterFilter","$timeout",function(e,t,i,o,r,l,a){function s(){e.selectedOption=null,e.activeOption=null;var t=!1;n.forEach(e.options,function(i){i.selected=!t&&n.equals(f.$viewValue,i.value),i.selected&&(e.selectedOption=i,e.activeOption=i,t=!0)})}function c(){e.selectedOption=[];var t=n.isArray(f.$viewValue)?f.$viewValue:[];n.forEach(e.options,function(n){n.selected=t.indexOf(n.value)>-1,n.selected&&e.selectedOption.push(n)})}var u,p=this,d=o.parse(t.ngOptions),f={$setViewValue:n.noop};t.onToggle?i(t.onToggle):n.noop;e.wasOpen=!1,e.multiple=!!n.isDefined(t.multiple)&&e.$parent.$eval(t.multiple),e.filter={enabled:!!n.isDefined(t.filter)&&e.$parent.$eval(t.filter),value:"",key:e.filterKey},e.options=[],this.init=function(e,t){f=e,u=t,f.$render=function(){p.render()}},this.onOptionsChange=function(t){var i={};e.groups={},e.options.length=0,n.forEach(t,function(t,n){i[d.valueName]=t;var o=d.groupByFn(e,i)||"";(group=e.groups[o])||(group=e.groups[o]={options:[]});var r={label:d.displayFn(e,i),value:d.valueFn(e,i),id:e.uniqueId+"-"+n};e.filter.key&&(r[e.filter.key]=t[e.filter.key]),group.options.push(r),e.options.push(r)}),e.filterOptions(),this.render()},e.filterOptions=function(){if(e.filter.value){var t={},i=e.filter.key||"label";t[i]=e.filter.value,e.validOptions=l(e.options,t),n.forEach(e.options,function(t){t.valid=e.validOptions.indexOf(t)>-1})}else e.validOptions=e.options,n.forEach(e.options,function(e){e.valid=!0})},this.render=function(){e.multiple?c():s()},e.isActive=function(t){return t===e.activeOption},this.selectSingle=function(e){f.$setViewValue(e.value),f.$render()},this.selectMultiple=function(e){var t=f.$viewValue||[];e.selected=!e.selected,e.selected?t.push(e.value):t.splice(t.indexOf(e.value),1),f.$setViewValue(t),f.$render()},e.select=function(t,n){e.multiple?p.selectMultiple(t):(p.selectSingle(t),e.isopen=!1)},e.isEmpty=function(){return!e.selectedOption||e.multiple&&0===e.selectedOption.length},e.prevent=function(e){e.preventDefault(),e.stopPropagation()},e.$parent.$watchCollection(d.valuesFn,function(e){p.onOptionsChange(e)}),e.onKeydown=function(t){if(e.isopen&&/^(38|40|13|32|9)$/.test(t.which)){t.preventDefault(),t.stopPropagation();for(var i=e.validOptions,o=i.indexOf(e.activeOption),r=u.find("li"),l=0;l<r.length;l++){var a=n.element(r[l]);"option"!==a.attr("role")&&(r.splice(l,1),l--)}if((13===t.which||32===t.which||9===t.which)&&o>-1)return void e.select(i[o]);38===t.which&&o>0?o--:40===t.which&&o<i.length-1&&o++,r[o].focus(),e.activeOption=i[o]}},(t.ngDisabled||t.disabled)&&t.$observe("disabled",function(t){n.isDefined(t)&&(e.isDisabled=t)})}]).directive("dropdownSelectAmb",function(){var e=0;return{require:["dropdownSelectAmb","?^ngModel"],restrict:"EA",replace:!0,scope:{type:"@",size:"@",emptyPlaceholderText:"@",filterPlaceholderText:"@",optionTemplateUrl:"@",filterKey:"@",label:"@"},templateUrl:"template/dropdownSelectAmb/select.html",controller:"DropdownSelectController",link:function(t,n,i,o){var r=o[0],l=o[1];t.uniqueId="select-"+e++ +"-"+Math.floor(1e4*Math.random()),l&&r.init(l,n)}}}).directive("selectOptionAmb",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{require:"^dropdownSelectAmb",restrict:"A",scope:{option:"=selectOptionAmb"},compile:function(o,r){var l=i(r.templateUrl);return function(i,o,r){var a=l(i.$parent)||"template/dropdownSelectAmb/option.html";i.option.template&&(a=i.option.template),e.get(a,{cache:t}).success(function(e){e=e.replace(/(^\s+|\s+$)/g,""),o.append(n(e)(i))})}}}}]).directive("placeholderEmptyAmb",["dropdownSelectConfig",function(e){return{restrict:"EA",scope:{emptyPlaceholderText:"@"},replace:!0,templateUrl:"template/dropdownSelectAmb/placeholder-empty.html",link:function(t,n,i){t.getEmptyText=function(){return t.emptyPlaceholderText||e.emptyPlaceholderText}}}}]),n.module("template/dropdownSelectAmb/option.html",[]).run(["$templateCache",function(e){e.put("template/dropdownSelectAmb/option.html","<span>{{option}}</span>")}]),n.module("template/dropdownSelectAmb/placeholder-empty.html",[]).run(["$templateCache",function(e){e.put("template/dropdownSelectAmb/placeholder-empty.html","<span>{{getEmptyText()}}</span>")}]),n.module("template/dropdownSelectAmb/select.html",[]).run(["$templateCache",function(e){e.put("template/dropdownSelectAmb/select.html",'<div class="btn-group dropdown" ng-keydown="onKeydown($event)" is-open="isopen" role="combobox" aria-activedescendant="{{activeOption.id}}">\n    <button tabindex="0" type="button" class="btn dropdown-toggle" ng-class="[\'btn-\' + (type || \'default\'), size && (\'btn-\' + size)]" ng-disabled="isDisabled" style="width:100%;" aria-label="{{label}}" >\n        <span placeholder-empty ng-if="isEmpty()" empty-placeholder-text="{{emptyPlaceholderText}}"></span>\n        <span ng-if="!isEmpty() && !multiple" select-option-amb="selectedOption.label" template-url="optionTemplateUrl"></span>\n        <span ng-if="!isEmpty() && multiple" ng-repeat="option in selectedOption track by $index"><span select-option-amb="option.label" template-url="optionTemplateUrl"></span><span ng-if="!$last">, </span></span>\n        <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu" style="width:100%;" ng-click="prevent($event)" role="listbox" ng-if="isopen">\n        <li ng-if="filter.enabled" style="padding:5px"><input tabindex="-1" type="search" class="form-control" style="width: 100%" ng-model="filter.value" ng-change="filterOptions()" aria-readonly="true" aria-activedescendant="{{activeOption.id}}" placeholder="{{filterPlaceholderText}}"></li>\n        <li ng-repeat-start="(groupName, group) in groups track by $index" class="dropdown-header" ng-if="groupName">{{groupName}}</li>\n        <li tabindex="{{isActive(option) ? 0 : -1}}" ng-repeat="option in group.options track by $index" ng-class="{active: isActive(option)}" role="option" ng-click="select(option, $event)" ng-if="option.valid" aria-selected="{{!!option.selected}}" aria-labelledby="{{option.id}}" >\n            <a href tabindex="-1" select-option-amb="option.label" template-url="optionTemplateUrl" id="{{option.id}}">\n                <i ng-if="multiple && option.selected" class="glyphicon glyphicon-ok pull-right"></i>\n            </a>\n        </li>\n        <li class="divider" ng-if="!$last" ng-repeat-end></li>\n    </ul>\n</div>\n')}])}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports){"use strict";/*!
	               * angular-ui-mask
	               * https://github.com/angular-ui/ui-mask
	               * Version: 1.7.2 - 2016-01-29T01:38:58.683Z
	               * License: MIT
	               */
!function(){angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!1,clearOnBlurPlaceholder:!1,eventsToHandle:["input","keyup","click","focus"]}).directive("uiMask",["uiMaskConfig",function(e){function t(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=e;return function(e,i,o,r){function l(e){return angular.isDefined(e)?($(e),K?(d(),f(),!0):p()):p()}function a(e){e&&(D=e,!K||0===i.val().length&&angular.isDefined(o.placeholder)||i.val(m(h(i.val()))))}function s(){return l(o.uiMask)}function c(e){return K?(j=h(e||""),N=v(j),r.$setValidity("mask",N),N&&j.length?m(j):void 0):e}function u(e){return K?(j=h(e||""),N=v(j),r.$viewValue=j.length?m(j):"",r.$setValidity("mask",N),N?J?r.$viewValue:j:void 0):e}function p(){return K=!1,g(),angular.isDefined(L)?i.attr("placeholder",L):i.removeAttr("placeholder"),angular.isDefined(Z)?i.attr("maxlength",Z):i.removeAttr("maxlength"),i.val(r.$modelValue),r.$viewValue=r.$modelValue,!1}function d(){j=U=h(r.$modelValue||""),B=R=m(j),N=v(j),o.maxlength&&i.attr("maxlength",2*T[T.length-1]),L||i.attr("placeholder",D);for(var e=r.$modelValue,t=r.$formatters.length;t--;)e=r.$formatters[t](e);r.$viewValue=e||"",r.$render()}function f(){I||(i.bind("blur",w),i.bind("mousedown mouseup",k),i.bind("keydown",A),i.bind("keyup",O),i.bind(Q.eventsToHandle.join(" "),C),I=!0)}function g(){I&&(i.unbind("blur",w),i.unbind("mousedown",k),i.unbind("mouseup",k),i.unbind("keydown",A),i.unbind("keyup",O),i.unbind("input",C),i.unbind("keyup",C),i.unbind("click",C),i.unbind("focus",C),I=!1)}function v(e){return!e.length||e.length>=_}function h(e){var t,n,o="",r=i[0],l=P.slice(),a=z,s=a+V(r),c="";return e=e.toString(),t=0,n=e.length-D.length,angular.forEach(q,function(i){var o=i.position;o>=a&&o<s||(o>=a&&(o+=n),e.substring(o,o+i.value.length)===i.value&&(c+=e.slice(t,o),t=o+i.value.length))}),e=c+e.slice(t),angular.forEach(e.split(""),function(e){l.length&&l[0].test(e)&&(o+=e,l.shift())}),o}function m(e){var t="",n=T.slice();return angular.forEach(D.split(""),function(i,o){e.length&&o===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i}),t}function b(e){var t,n=angular.isDefined(o.uiMaskPlaceholder)?o.uiMaskPlaceholder:o.placeholder;return angular.isDefined(n)&&n[e]?n[e]:(t=angular.isDefined(o.uiMaskPlaceholderChar)&&o.uiMaskPlaceholderChar?o.uiMaskPlaceholderChar:"_","space"===t.toLowerCase()?" ":t[0])}function y(){var e,t,n=D.split("");T&&!isNaN(T[0])&&angular.forEach(T,function(e){n[e]="_"}),e=n.join(""),t=e.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),t=t.filter(function(e){return""!==e});var i=0;return t.map(function(t){var n=e.indexOf(t,i);return i=n+1,{value:t,position:n}})}function $(e){var t=0;if(T=[],P=[],D="",angular.isString(e)){_=0;var n=!1,i=0,o=e.split("");angular.forEach(o,function(e,o){Q.maskDefinitions[e]?(T.push(t),D+=b(o-i),P.push(Q.maskDefinitions[e]),t++,n||_++,n=!1):"?"===e?(n=!0,i++):(D+=e,t++)})}T.push(T.slice().pop()+1),q=y(),K=T.length>1}function w(){(Q.clearOnBlur||Q.clearOnBlurPlaceholder&&0===j.length&&o.placeholder)&&(z=0,G=0,N&&0!==j.length||(B="",i.val(""),e.$apply(function(){r.$viewValue=""}))),j!==X&&x(i[0]),X=j}function x(e){var t;angular.isFunction(window.Event)&&!e.fireEvent?(t=new Event("change",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(t)):"createEvent"in document?(t=document.createEvent("HTMLEvents"),t.initEvent("change",!1,!0),e.dispatchEvent(t)):e.fireEvent&&e.fireEvent("onchange")}function k(e){"mousedown"===e.type?i.bind("mouseout",E):i.unbind("mouseout",E)}function E(){G=V(this),i.unbind("mouseout",E)}function O(e){i.attr("data-ic-no",j)}function A(e){var t=8===e.which,n=M(this)-1||0;if(t){for(;n>=0;){if(F(n)){S(this,n+1);break}n--}H=n===-1}i.attr("data-ic-no",j)}function C(t){t=t||{};var n=t.which,o=t.type;if(16!==n&&91!==n){var l,a=i.val(),s=R,c=!1,u=h(a),p=U,d=M(this)||0,f=z||0,g=d-f,v=T[0],b=T[u.length]||T.slice().shift(),y=G||0,$=V(this)>0,w=y>0,x=a.length>s.length||y&&a.length>s.length-y,k=a.length<s.length||y&&a.length===s.length-y,E=n>=37&&n<=40&&t.shiftKey,O=37===n,A=8===n||"keyup"!==o&&k&&g===-1,C=46===n||"keyup"!==o&&k&&0===g&&!w,P=(O||A||"click"===o)&&d>v;if(G=V(this),!E&&(!$||"click"!==o&&"keyup"!==o)){if(A&&H)return i.val(D),e.$apply(function(){r.$setViewValue("")}),void S(this,f);if("input"===o&&k&&!w&&u===p){for(;A&&d>v&&!F(d);)d--;for(;C&&d<b&&T.indexOf(d)===-1;)d++;var q=T.indexOf(d);u=u.substring(0,q)+u.substring(q+1),u!==p&&(c=!0)}for(l=m(u),R=l,U=u,!c&&a.length>l.length&&(c=!0),i.val(l),c&&e.$apply(function(){r.$setViewValue(l)}),x&&d<=v&&(d=v+1),P&&d--,d=d>b?b:d<v?v:d;!F(d)&&d>v&&d<b;)d+=P?-1:1;(P&&d<b||x&&!F(f))&&d++,z=d,S(this,d)}}}function F(e){return T.indexOf(e)>-1}function M(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection&&t(i[0])){e.focus();var n=document.selection.createRange();return n.moveStart("character",e.value?-e.value.length:0),n.text.length}return 0}function S(e,n){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)t(i[0])&&(e.focus(),e.setSelectionRange(n,n));else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",n),o.select()}}function V(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var T,P,D,q,_,j,B,N,R,U,z,G,H,K=!1,I=!1,L=o.placeholder,Z=o.maxlength,W=r.$isEmpty;r.$isEmpty=function(e){return W(K?h(e||""):e)};var J=!1;o.$observe("modelViewValue",function(e){"true"===e&&(J=!0)});var Q={};o.uiOptions?(Q=e.$eval("["+o.uiOptions+"]"),Q=angular.isObject(Q[0])?function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.isObject(t[n])&&!angular.isArray(t[n])&&(t[n]=angular.extend({},e[n],t[n])));return t}(n,Q[0]):n):Q=n,o.$observe("uiMask",l),angular.isDefined(o.uiMaskPlaceholder)?o.$observe("uiMaskPlaceholder",a):o.$observe("placeholder",a),angular.isDefined(o.uiMaskPlaceholderChar)&&o.$observe("uiMaskPlaceholderChar",s),r.$formatters.push(c),r.$parsers.unshift(u);var X=i.val();i.bind("mousedown mouseup",k),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var o=i>=0?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1})}}}}])}()},function(e,exports,t){var n;(function(e){"use strict";n=function(require,exports,e){e.name="amb-ui.field";var n=t(3),i=t(8),o=n.utils;e.exports=n.createModule(e.name,[i.name]).directive(t(9)).controller(t(10)).value("defaultErrorMessages",{required:"amb-ui.main.js.this_field_is_required"}).filter("newlines",function(){return function(e){return o.isString(e)?e.replace(/\n/g,"<br/>"):e}})}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(2)(e))},function(e,exports){e.exports=n},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(3),i=n.ng,o={},r=function(e,t){return i.element(e&&e.querySelector(t))};exports.amField=function(){return{restrict:"EA",replace:!0,transclude:!0,template:o.lpField,scope:{label:"@",tip:"@",help:"@",actionLabel:"@",action:"@"},controller:"FieldController",link:function(e,t,n,o,l){e.extraControls=n.extraControls&&"true"===n.extraControls,l(e.$parent,function(n){var o=[];if(n.length>1)for(var l=0;l<n.length;l++)1===n[l].nodeType&&o.push(n[l]);else o.push(n[0]);var a=i.element(o[0]);if(r(t[0],".field-area").prepend(a),e.extraControls){var s=i.element(o[1]);r(t[0],".extra-control").prepend(s)}})}}},exports.amEnterPressed=function(){return{restrict:"A",scope:!0,link:function(e,t,n){t.on("keydown",function(t){13===t.which&&(t.preventDefault(),e.$apply(function(){e.setEditMode(!1),e.save(e.model.value)}))})}}},exports.amControl=function(e,t,n){function l(){return o.lpControl}return{restrict:"EA",replace:!0,transclude:!0,template:l,scope:{label:"@",tip:"@",validate:"&",loading:"=",currency:"=",callback:"&"},require:["^amField","?ngModel"],link:function(o,l,a,s){var c=s[1],u=s[0];if(o.keepEdittingOpen=!1,o.readonly=!!i.isDefined(a.readonly)&&o.$parent.$eval(a.readonly),!c)return void(o.readonly=!0);var p=!i.isDefined(a.required)||o.$parent.$eval(a.required);a.$observe("type",function(e){o.type=e||"text","select"!==o.type&&"checkbox"!==o.type&&"select-multiple"!==o.type&&"radio"!==o.type||(o.options=o.$parent.$eval(a.options))}),o.model={};var d,f=function(){return d||(d=r(l[0],"select"===o.type||"select-multiple"===o.type?"select":"textarea"===o.type?"textarea":"input")),d.length>1?d[1]:d};o.editting=!1,o.setEditMode=function(t){o.editting=t,o.editting?(o.model.value=i.copy(c.$modelValue),o.keepEdittingOpen||e(function(){f().focus()},0)):u.clearErrors()},o.save=function(e){if(u.clearErrors(),e=i.element("<div>").text(e).html()){var n=e;n=n.replace(/[\u4E00-\u9FFF\u3400-\u4DFF\uF900-\uFAFF]+/g,""),e=n}else if(e){var n=e;n=n.replace(/[\u4E00-\u9FFF\u3400-\u4DFF\uF900-\uFAFF]+/g,""),e=n}var r=!0,l=e.length;return p&&l<1?(u.addError("required"),!1):(r&&a.validate&&(r=o.validate({value:e}),"string"==typeof r&&(u.addError(r),r=!1)),void(r&&(o.keepEdittingOpen||o.setEditMode(!1),a.callback&&o.callback({value:e}),c.$setViewValue(e),o.model.text=t.trustAsHtml(o.getText(e)))))},o.isChecked=function(e){return c.$modelValue.indexOf(e)>-1},o.toggleCheck=function(e){var t=o.model.value.indexOf(e);t>-1?o.model.value.splice(t,1):o.model.value.push(e)},o.getText=function(e){var t,i,r=o.options;if("textarea"===o.type)e=n(e);else if("select"===o.type||"radio"===o.type){for(t=0,i=r.length;t<i;t++)if(r[t].value.toString()===e.toString())return r[t].text}else if("checkbox"===o.type||"select-multiple"===o.type){var l=[];for(t=0,i=r.length;t<i;t++)e.indexOf(r[t].value)>-1&&l.push(r[t].text);return l.join(", ")}return e?e.toString().replace("<br/>","\n"):""},c.$render=function(){o.model.text=t.trustAsHtml(o.getText(c.$modelValue)),o.model.value=o.getText(c.$modelValue)}}}},exports.amControl.$inject=["$timeout","$sce","newlinesFilter"],o.lpField=['<div class="am-field form-group">','\t<div class="col-xs-12 field-area">','\t\t<div ng-repeat="error in errorMessages" class="err-bubble" style="font-style: italic;"><span>{{error}}</span></div>',"\t</div>","</div>"].join("\n"),o.fieldFn=function(e){return['<div ng-switch-when="',e,'" class="input-group">','\t<input type="',e,'" maxlength=35"" ng-model="model.value" class="form-control" am-enter-pressed="" />',o.inputGroupBtn,"</div>"].join("")},o.amtFldToggle=function(){return['<label ng-bind="model.text" />'].join("")},o.btnFn=function(e){return['<div class="'+e+'">','\t<button type="button" class="btn btn-default" ng-click="save(model.value)">','\t\t<i class="lp-icon lp-icon-ok-sign"></i>',"\t</button>",'\t<button type="button" class="btn btn-default" ng-click="setEditMode(false)" ng-hide="keepEdittingOpen">','\t\t<i class="lp-icon lp-icon-remove"></i>',"\t</button>","</div>"].join("")},o.inputGroupBtn=o.btnFn("input-group-btn"),o.inputGroupBtnRight=o.btnFn("btn-group pull-right"),o.lpControl=['<div class="lp-editable">','\t<div ng-hide="editting" class="has-feedback col-xs-12">','\t\t<div ng-if="!currency" ng-class="ifchange()">','\t\t\t<span for="iconPencil" ng-bind="model.text" />','\t\t\t<i id="iconPencil" class="lp-icon lp-icon-pencil pull-right" style="cursor:pointer;" ng-click="setEditMode(true)" ng-hide="loading"></i>',"\t\t</div>",'\t\t<div ng-if="currency" ng-class="ifchange()">','\t\t\t<span for="iconPencil" lp-amount="model.text" lp-amount-currency="currency" />','\t\t\t<i id="iconPencil" class="lp-icon lp-icon-pencil pull-right" style="cursor:pointer;" ng-click="setEditMode(true)" ng-hide="loading"></i>',"\t\t</div>","\t</div>",'\t<div ng-show="editting" ng-switch on="type">',o.fieldFn("text"),o.fieldFn("number"),o.fieldFn("tel"),o.fieldFn("email"),o.fieldFn("url"),'\t<div ng-switch-when="textarea">','\t\t<textarea ng-model="model.value" class="form-control" rows="3" lp-enter-pressed=""></textarea>',o.inputGroupBtnRight,"\t</div>",'\t<div ng-switch-when="select" class="input-group">','\t\t<select ng-model="model.value" class="form-control" ng-options="option.value as option.text for option in options"></select>',o.inputGroupBtn,"\t</div>",'\t<div ng-switch-when="select-multiple" class="input-group">','\t\t<select ng-model="model.value" multiple="multiple" class="form-control" ng-options="option.value as option.text for option in options"></select>','\t\t<span type="button" class="input-group-addon" ng-click="save(model.value)"><i class="lp-icon lp-icon-ok-sign"></i></span>','\t\t<span class="input-group-addon" ng-hide="keepEdittingOpen" ng-click="setEditMode(false)"><span class="lp-icon lp-icon-remove"></span></span>',"\t</div>",'\t<div ng-switch-when="checkbox">','\t\t<div class="btn-group pull-right">','\t\t\t<button type="button" class="btn btn-default" ng-click="save(model.value)"><i class="lp-icon lp-icon-ok-sign"></i></button>',"\t\t</div>",'\t\t<div class="checkbox" ng-repeat="option in options">','\t\t\t<label><input type="checkbox" value="{{option.value}}" ng-checked="isChecked(option.value)" ','\t\t\t\t\tng-click="toggleCheck(option.value)"> {{option.text}}</label>',"\t\t</div>","\t</div>",'\t<div ng-switch-when="radio">',o.inputGroupBtnRight,'\t\t<div class="radio" ng-repeat="option in options">','\t\t\t<label><input type="radio" value="{{option.value}}" ng-model="model.value"> {{option.text}}</label>',"\t\t</div>","\t</div>","\t</div>","</div>"].join("\n")}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(3),i=n.ng;exports.FieldController=function(e,t,n,o,r,l,a){var s,c,u=this;e.errors=[],l&&l.required&&(l.required=a.instant(l.required));var p=i.isDefined(o.errorMessages)?i.copy(e.$parent.$eval(o.errorMessages)):{};p=i.extend({},l,p),o.errors&&(s=r(o.errors),c=s.assign,e.$parent.$watch(s,function(t){e.errors=t,e.setErrorMessages()},!0),e.$watch("errors",function(t){c&&c(e.$parent,t)})),e.setErrorMessages=function(){var t=[];if(e.errors)for(var n=0,i=e.errors.length;n<i;n++){var o=e.errors[n];t.push(u.getErrorMessage(o))}e.errorMessages=t},this.getErrorMessage=function(e){return p&&p[e]?p[e]:e},this.addError=function(t){e.errors||(e.errors=[]),e.errors.push(t)},this.clearErrors=function(){e.errors&&(e.errors.length=0)}},exports.FieldController.$inject=["$scope","$templateCache","$sce","$attrs","$parse","defaultErrorMessages","lpCoreI18n"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}])});
//# sourceMappingURL=main.js.map