var isSubappBusy;var warnType="";var lockType="";var displayType="";var displayPhrase="";var displayPhrase2="";var LOCK="lock";var WARN="warn";var logOffWhenCancelled="false";var suppressWarn="false";var suppressLock="false";var isE2e=false;var openWins=new Array();var openWinsCount=0;var execFuncName="";function addWinToList(a){openWins[openWinsCount++]=a}function closeOpenWins(){var a=0;for(a=0;a<openWins.length;a++){if(openWins[a]){openWins[a].close()}}}function isSubappBusy(){return((displayPhrase!=null)&&(displayPhrase!=""))}function confirmGo(a,b){suppressWarn=a;if(typeof suppressWarn=="undefined"){suppressWarn="false"}suppressLock=b;if(typeof suppressLock=="undefined"){suppressLock="false"}if(typeof execFuncName!="undefined"&&execFuncName!=""){return ConfirmGo2()}else{return ConfirmGo()}}function ConfirmGo(){var a=isSubappBusy();if(a){if(lockType==LOCK&&suppressLock=="false"){alert(displayPhrase);return false}else{if(warnType==WARN&&suppressWarn=="false"){if(!confirm(displayPhrase)){if(logOffWhenCancelled=="true"){logOff()}return false}else{if(displayPhrase2!=""){if(!confirm(displayPhrase2)){if(logOffWhenCancelled=="true"){logOff()}return false}}}}else{if(suppressWarn=="false"&&suppressLock=="false"){alert("Dialog Error: ConfirmGo 'Type' not alert or confirm!")}}}}return true}function setSubappBusy(d,b,a,c){if(d==""){lockType=d;warnType=d;displayPhrase="";displayPhrase2="";execFuncName=""}else{if(d==WARN){warnType=d}else{if(d==LOCK){lockType=d}}displayPhrase=b;displayPhrase2=a;logOffWhenCancelled="false";execFuncName=c}}function setSubappBusy2(e,b,a,d,c){if(e==""){lockType=e;warnType=e;displayPhrase="";displayPhrase2="";logOffWhenCancelled="false";execFuncName=""}else{if(e==WARN){warnType=e}else{if(e==LOCK){lockType=e}}displayPhrase=b;displayPhrase2=a;logOffWhenCancelled=d;execFuncName=c}}function ConfirmGo2(){var subappBusy=isSubappBusy();if(subappBusy){if(lockType==LOCK&&suppressLock=="false"){alert(displayPhrase);return false}else{if(warnType==WARN&&suppressWarn=="false"){if(confirm(displayPhrase)){if(typeof execFuncName!="undefined"&&execFuncName!=""){eval(execFuncName)}return false}}else{if(suppressWarn=="false"&&suppressLock=="false"){alert("Dialog Error: ConfirmGo 'Type' not alert or confirm!")}}}}return true}function submitLinkPostForm(a){var b=document.forms[a];b.submit()}function submitLinkPostForm2(a,c){var b=document.forms[a];b.action=c;b.submit()}function encryptE2e(a){if(!document.e2e){return}e2eapplet=document.e2e;if(a.pin){enc=e2eapplet.encryptPIN(a.pin.value,eid);if((navigator.appName=="Netscape"&&parseInt(navigator.appVersion)>=5)||navigator.appName=="Opera"){a.pin.maxLength=enc.length()}a.pin.value=enc}if(a.pwd){enc=e2eapplet.encryptPassword(a.pwd.value,eid);if((navigator.appName=="Netscape"&&parseInt(navigator.appVersion)>=5)||navigator.appName=="Opera"){a.pwd.maxLength=enc.length()}a.pwd.value=enc}}function validateToken(a){return true}function validateCredential(e){var g=true;var d=null;var c=0;var b="-1";var a=new Array();oRequired=new credentials();for(x in oRequired){var f=e[oRequired[x][0]];if(typeof f!="undefined"){if(f.type!=null){if(f!=null&&f.disabled==false){if(f.type=="text"||f.type=="password"){if(f.type=="text"||f.type=="password"){if(f.value==""||f.value==null){d=f;a[c++]=oRequired[x][1];g=false;break}}}}}}}if(a.length>0&&d!=null){alert(a.join("\n"));d.focus()}if(g&&document.getElementById("reentry")){disablePinPad()}if(g&&(document.getElementById("vkb")||document.getElementById("largevkb"))){hideVkb("done")}if(g&&isE2e){encryptE2e(e)}return g}function validateCredentialOnClient(e){var g=true;var d=null;var c=0;var b="-1";var a=new Array();oRequired=new credentialsonclient();for(x in oRequired){var f=e[oRequired[x][0]];if(typeof f!="undefined"){if(f.type!=null){if(f!=null&&f.disabled==false){if(f.type=="text"||f.type=="password"){if(f.type=="text"||f.type=="password"){if(f.value==""||f.value==null){d=f;a[c++]=oRequired[x][1];g=false;break}}}}}}}if(a.length>0&&d!=null){alert(a.join("\n"));d.focus()}if(g&&document.getElementById("reentry")){disablePinPad()}if(g&&isE2e){encryptE2e(e)}return g}function validateRequired(a){var n=true;var e=null;var d=0;var g="-1";var f=new Array();oRequired=new required();for(x in oRequired){var k=a[oRequired[x][0]];if(typeof k!="undefined"){if(k.type!=null){if(k!=null&&k.disabled==false&&(typeof k.readOnly=="undefined"||k.readOnly==false)){if(k.type=="text"||k.type=="textarea"||k.type=="file"||k.type=="select-one"||k.type=="radio"||k.type=="password"||k.type=="hidden"||k.type=="checkbox"){var m=g;if(k.type=="select-one"){var c=k.selectedIndex;if(c>=0){m=k.options[c].value}}else{m=k.value}if(k.type=="select-one"&&m==g){if(d==0){e=k}f[d++]=oRequired[x][1];n=false;break}if(k.type=="text"||k.type=="password"||k.type=="textarea"||k.type=="hidden"||k.type=="file"){if(k.value==""||k.value==null){e=k;f[d++]=oRequired[x][1];n=false;break}}if(k.type=="checkbox"){var l=false;if(k.checked){l=true}if(l==false){e=k;f[d++]=oRequired[x][1];n=false;break}}}}}else{var l=false;var h=true;var b;for(j=0;j<k.length;j++){temp=k[j];if(temp==null||temp.disabled==true||typeof temp.readOnly=="undefined"||temp.readOnly==true){continue}else{h=false;if(temp.type=="radio"){b=temp;if(temp.checked){l=true}}if(temp.type=="checkbox"){b=temp;if(temp.checked){l=true}}if(temp.type=="text"){b=temp;if(temp.value!=""){l=true}}}}if(l==false&&!h){e=b;f[d++]=oRequired[x][1];n=false;break}}}}if(f.length>0&&e!=null){if(e.type!="hidden"){alert(f.join("\n"));if(e.type=="radio"){if(k.length>0){k[0].focus()}else{e.focus()}}else{e.focus()}}else{alert(f.join("\n"))}}return n}function validateRequired2(a){var n=true;var e=null;var d=0;var g="-1";var f=new Array();oRequired=new required2();for(x in oRequired){var k=a[oRequired[x][0]];if(typeof k!="undefined"){if(k.type!=null){if(k!=null&&k.disabled==false&&(typeof k.readOnly=="undefined"||k.readOnly==false)){if(k.type=="text"||k.type=="textarea"||k.type=="file"||k.type=="select-one"||k.type=="radio"||k.type=="password"||k.type=="hidden"){var m=g;if(k.type=="select-one"){var c=k.selectedIndex;if(c>=0){m=k.options[c].value}}else{m=k.value}if(k.type=="select-one"&&m==g){if(d==0){e=k}f[d++]=oRequired[x][1];n=false;break}if(k.type=="text"||k.type=="password"||k.type=="textarea"||k.type=="hidden"||k.type=="file"){if(k.value==""||k.value==null){e=k;f[d++]=oRequired[x][1];n=false;break}}}}}else{var l=false;var h=true;var b;for(j=0;j<k.length;j++){temp=k[j];if(temp==null||temp.disabled==true||typeof temp.readOnly=="undefined"||temp.readOnly==true){continue}else{h=false;if(temp.type=="radio"){b=temp;if(temp.checked){l=true}}if(temp.type=="checkbox"){b=temp;if(temp.checked){l=true}}if(temp.type=="text"){b=temp;if(temp.value!=""){l=true}}}}if(l==false&&!h){e=b;f[d++]=oRequired[x][1];n=false;break}}}}if(f.length>0&&e!=null){if(e.type!="hidden"){alert(f.join("\n"));if(e.type=="radio"){if(k.length>0){k[0].focus()}else{e.focus()}}else{e.focus()}}else{alert(f.join("\n"))}}return n}function validateMaxLength(a){return true}function validateInputText(a){return true}function getCookie(b){var e=""+document.cookie;var a=e.indexOf(b+"=");if(a==-1){return null}var d=e.indexOf(";",a);if(d==-1){d=e.length}return unescape(e.substring(a+b.length+1,d))}function setCookie(b,d,a,f,c,e){document.cookie=b+"="+d+((a)?"; expires="+a.toGMTString():"")+((f)?"; path="+f:"")+((c)?"; domain="+c:"")+((e)?"; secure":"")}function isEmpty(a){return((a==null)||(a.length==0))}function isWhitespace(d){var b;var a=" \t\n\r";if(isEmpty(d)){return true}for(b=0;b<d.length;b++){var e=d.charAt(b);if(a.indexOf(e)==-1){return false}}return true}function displayHelp(b,c,a){var d="";if(b.indexOf("#")!=-1){d=b.substring(b.indexOf("#")+1)}if(!isWhitespace(applicationID)){b+=(b.indexOf("?")!=-1)?"&":"?";b+="appId="+applicationID}if(!isWhitespace(screenID)){b+=(b.indexOf("?")!=-1)?"&":"?";b+="screenId="+screenID}if(!isWhitespace(transactionTypeCode)){b+=(b.indexOf("?")!=-1)?"&":"?";b+="ttc="+transactionTypeCode}if(!isWhitespace(helpVariant)){b+=(b.indexOf("?")!=-1)?"&":"?";b+="helpVariant="+helpVariant}if(!isWhitespace(d)){b+="#"+d}var e=showPopup_W_XY(b,c,a,160,80);addWinToList(e);e.focus()}function OnClickHandler(){var b=null;var a=true;b=event.srcElement;while(a&&b){if(b.tagName=="A"){a=false;if(b.protocol=="javascript:"||b.href.indexOf("javascript:")!=-1){execScript(unescape(b.href),"javascript");window.event.returnValue=false}}else{b=b.parentElement}}}if((navigator.appName.indexOf("Microsoft")!=-1)&&(navigator.appVersion.substring(0,1)>"3")){if(navigator.userAgent.indexOf("Mac")==-1){document.onclick=OnClickHandler}}function NS6OnClickHandler(b){var a=b.target;if(a.nodeType==1||a.nodeType==3){a=a.parentNode}if(a.tagName=="A"){if(lockType==LOCK&&a.onclick!=null&&a.onclick.toString().indexOf("confirmGo")==-1){alert(displayPhrase);return false}}return true}if(navigator.appName.indexOf("Netscape")!=-1&&document.getElementById&&navigator.userAgent.indexOf("Safari")==-1){document.onclick=NS6OnClickHandler}if(document.captureEvents){if(Event.MOUSEDOWN){document.captureEvents(Event.MOUSEDOWN);document.onmousedown=winMouseDown}}var _evt=null;function winMouseDown(a){_evt=a}function winSize(){var b=-1;var a=-1;if(typeof(window.innerWidth)=="number"){b=window.innerWidth;a=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;a=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;a=document.body.clientHeight}}}var c=new Object();c.x=b;c.y=a;return c}function popupWinSize(e){var h=-1;var c=-1;var g=e.split(",");for(var b=0;b<g.length;b++){var f=g[b].split("=");if(f.length==2){var a=f[0].replace(/^\s+/,"").replace(/\s+$/,"");var k=f[1].replace(/^\s+/,"").replace(/\s+$/,"");if(a.toLowerCase()=="width"&&!isNaN(parseInt(k,10))){h=parseInt(k,10)}else{if(a.toLowerCase()=="height"&&!isNaN(parseInt(k,10))){c=parseInt(k,10)}}}}var d=new Object();d.x=h;d.y=c;return d}function getClickPos(){var c=0;var b=0;if(!_evt){_evt=window.event||arguments.callee.caller.arguments[0]}if(_evt){if(typeof(_evt.pageX)=="number"){c=_evt.pageX;b=_evt.pageY}else{if(typeof(_evt.clientX)=="number"){c=_evt.clientX;b=_evt.clientY}}}var a=new Object();a.x=c;a.y=b;return a}function showPopup_W_XY(b,c,e,f,d){var a=new Object();a.x=f;a.y=d;a.offsetX=0;a.offsetY=0;return doPopup(b,c,e,a,"W")}function showPopup_L_XY(b,c,e,f,d){var a=getClickPos();a.offsetX=f;a.offsetY=d;return doPopup(b,c,e,a,"L")}function showPopup(b,c,d){var a=getClickPos();a.offsetX=25;a.offsetY=0;return doPopup(b,c,d,a,"L")}function doPopup(a,l,e,f,g){var k=0;var i=0;var c=0;var b=0;a+="";l+="";e+="";if(e==null){e=""}if(document.getElementById){if(isNaN(window.screenX)){k=f.x+window.screenLeft;i=f.y+window.screenTop}else{if(g=="L"){c=window.pageXOffset;b=window.pageYOffset}k=f.x+window.screenX+(window.outerWidth-window.innerWidth)-c;i=f.y+window.screenY+(window.outerHeight-24-window.innerHeight)-b}}else{if(document.all){k=f.x+window.screenLeft;i=f.y+window.screenTop}else{if(document.layers){if(g=="L"){c=window.pageXOffset;b=window.pageYOffset}k=f.x+window.screenX+(window.outerWidth-window.innerWidth)-c;i=f.y+window.screenY+(window.outerHeight-24-window.innerHeight)-b}}}k+=f.offsetX;i+=f.offsetY;if(k<0){k=0}if(i<0){i=0}var h=popupWinSize(e);if(h.x<0||h.y<0){var d=winSize();if(h.x<0){h.x=d.x}if(h.y<0){h.y=d.y}}if(screen&&screen.availHeight){if((i+h.y)>screen.availHeight){i=screen.availHeight-h.y}}if(screen&&screen.availWidth){if((k+h.x)>screen.availWidth){k=screen.availWidth-h.x}}setwncookie();return window.open(a,l,e+",screenX="+k+",left="+k+",screenY="+i+",top="+i)}function linkParentAndCloseSelf(a){self.opener.location=a;window.close()}function trim(c){var a=/ +$/;var b=/^ +/;c=c.replace(a,"");c=c.replace(b,"");return c}function openPrintWin(a,b,d){setwncookie();var c=window.open(a,b,d);addWinToList(c);c.focus()}function openPopupWin(a,b,d){setwncookie();var c=window.open(a,b,d);if(userType!="VISITOR"){addWinToList(c);c.focus()}}var navClass="";var L1,L2,L3,L4;function hlMenu(){var l=new Array("","A","B","C","D");for(var i=1;i<=L;i++){var className="NavL"+l[i]+"On";if(navClass!=""){className=navClass}eval("var cellID = 'cell_link_'+L"+i);eval("var linkID = 'link_'+L"+i);if(document.getElementById(cellID)==null){continue}document.getElementById(cellID).className=className;if(document.getElementById(linkID)==null){continue}document.getElementById(linkID).className=className;if(i==1){if(document.getElementById(cellID+"L")==null){continue}eval("var imgID = 'image_link_'+L"+i);document.getElementById(cellID+"L").className=className+"L";document.getElementById(cellID+"R").className=className+"R";var imgR=document.getElementById(imgID+"R").src;var imgL=document.getElementById(imgID+"L").src;if(imgR.indexOf("spacer.gif")!=-1){var imgONR=imgR.substr(0,imgR.indexOf("spacer.gif"))+"tab_r.gif";if(document.images[imgID+"R"]!=null){document.images[imgID+"R"].src=imgONR}}if(imgL.indexOf("spacer.gif")!=-1){var imgONL=imgL.substr(0,imgL.indexOf("spacer.gif"))+"tab_l.gif";if(document.images[imgID+"L"]!=null){document.images[imgID+"L"].src=imgONL}}}}}var TimerId=0;var NumExt=0;var bTimerId=false;var ExpireId=0;var bExpireId=false;function TimeStamp(){var b=new Date;var a=b.getTime();return a.toString()}function clrScrTOwinp(){if(bTimerId){clearTimeout(TimerId);bTimerId=false}}function setScrTO(b){var a=false;TmrWarn=b;if(window.opener){try{if(window.document.domain==window.opener.document.domain){a=true}}catch(c){}}if(self.opener==null||(self.opener!=null&&!a)){clrScrTOwinp();NumExt=0;Begin=new Date();TimerId=setTimeout("getmoretime(TmrWarn)",(TmrWarn-1)*60*1000);bTimerId=true}}function TerminateTO(a){clrScrTOwinp();SignOff=true;if(typeof brwWarn!="undefined"){brwWarn=true}window.location=SignOffLink+"&_ts="+TimeStamp()}function GetTimeDiff(b){var a=new Date();return a.getTime()-b.getTime()}function getmoretime(a){window.focus();Begin=new Date();NumExt++;if(NumExt>nAllowed){TerminateTO(TimerMsg2);return}document.getElementById("jfp_timeout").style.display="block";document.getElementById("jfp_fade").style.display="block";document.getElementById("jfp_jps_timeout_phrases").innerHTML=TimerMsg1;ExpireId=setTimeout("TerminateTO(TimerMsg2)",60*1000);bExpireId=true}function clrExpireId(){if(bExpireId){clearTimeout(ExpireId);bExpireId=false}}function checkTimeOverlay(){clrScrTOwinp();clrExpireId();TimerId=setTimeout("getmoretime(TmrWarn)",(TmrWarn-1)*60*1000);bTimerId=true}function extendServerClientTimeOut(){document.getElementById("jfp_timeout").style.display="none";document.getElementById("jfp_fade").style.display="none";setwncookie();$.ajax({type:"POST",url:KeepAliveLink+"?_ts="+TimeStamp(),cache:false,async:false,success:function(a){}});checkTimeOverlay()}function doOnload(){if(navigator.userAgent.match(/iPad|Opera/)){setBrowserAndDeviceWNName()}pageLoaded=true;if(callJPSOnload){JPSOnload()}if(callJBAOnload){JBAOnload()}if(callJSOOnload){JSOOnload()}loadCookie()}function doUnload(){closeOpenWins();if(navigator.userAgent.match(/iPad|Opera/)){}unloadCookie()}function setBrowserAndDeviceWNName(){if(sessionStorage.getItem("windowName")==null){var a=(new Date()).getTime();sessionStorage.setItem("windowName",a)}setCookie("sessionCheck",sessionStorage.getItem("windowName"),null,"/",null,true)}function checkMyPFM(){var b=$("#webRefreshPortalNavBar #__IFrame");if(b[0]){var a=b.attr("src").indexOf("timeId");return a}else{return false}}function mypfmCallback(g){var d=navigator.appName;if(!g){var h=$("#webRefreshPortalNavBar #__IFrame");if(h[0]){g=h[0]}}try{var b=g.contentWindow.document.body.scrollHeight+"px";if(d=="Netscape"||d=="Opera"){var a=g.contentWindow.document.body.scrollHeight;if(a>=150){b="135px"}}g.style.height=b}catch(f){b=g.ownerDocument.body.scrollHeight+"px";if(d=="Netscape"||d=="Opera"){var a=g.contentWindow.document.body.scrollHeight;if(a>=150){b="135px"}}g.style.height=b}if(checkMyPFM()<0){var c=new Date();g.src=g.src+"&&timeId="+c.getTime()}}$(document).ready(function(){if(navigator.userAgent.match(/ipad/i)){$("#webRefreshPortalSubMenuA a").css("padding","5px 4px")}});function loadCSS(e){var d,c,b;for(d=0;(c=document.getElementsByTagName("link")[d]);d++){if(c.getAttribute("rel")!=null){if(c.getAttribute("rel").indexOf("style")!=-1&&c.getAttribute("title")){c.disabled=true;if(c.getAttribute("title")==e){c.disabled=false}}}}createCookie("style",e,400)}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function loadPrefCSS(){var c,b;for(c=0;(b=document.getElementsByTagName("link")[c]);c++){if(b.getAttribute("rel").indexOf("style")!=-1&&b.getAttribute("title")&&!b.disabled){return b.getAttribute("title")}}return null}function showPrefCSS(){var c,b;for(c=0;(b=document.getElementsByTagName("link")[c]);c++){if(b.getAttribute("rel")!=null){if(b.getAttribute("rel").indexOf("style")!=-1&&b.getAttribute("rel").indexOf("alt")==-1&&b.getAttribute("title")){return b.getAttribute("title")}}}return null}function loadCookie(){var a=readCookie("style");var b=a?a:showPrefCSS();loadCSS(b)}function unloadCookie(){}(function(){var k=new XMLHttpRequest();var o=("upload" in k);var e=o&&("onprogress" in k.upload);var h=window.XMLHttpRequest;var b=!!window.controllers,m=window.document.all&&!window.opera,n=m&&window.navigator.userAgent.match(/MSIE 7.0/);function d(){this._object=h&&!n?new h:new window.ActiveXObject("Microsoft.XMLHTTP");this._listeners=[]}function c(){return new d}c.prototype=d.prototype;if(o&e){c.prototype.upload=function(){return this._object.upload};c.prototype.upload.onprogress=function(){return this._object.upload.onprogress}}if(b&&h.wrapped){c.wrapped=h.wrapped}c.UNSENT=0;c.OPENED=1;c.HEADERS_RECEIVED=2;c.LOADING=3;c.DONE=4;c.prototype.readyState=c.UNSENT;c.prototype.responseText="";c.prototype.responseXML=null;c.prototype.status=0;c.prototype.statusText="";c.prototype.priority="NORMAL";c.prototype.onreadystatechange=null;c.onreadystatechange=null;c.onopen=null;c.onsend=null;c.onabort=null;c.prototype.open=function(t,w,r,y,q){delete this._headers;if(arguments.length<3){r=true}this._async=r;var v=this,u=this.readyState,p;if(m&&r){p=function(){if(u!=c.DONE){f(v);v.abort()}};window.attachEvent("onunload",p)}if(c.onopen){c.onopen.apply(this,arguments)}if(arguments.length>4){this._object.open(t,w,r,y,q)}else{if(arguments.length>3){this._object.open(t,w,r,y)}else{this._object.open(t,w,r)}}this.readyState=c.OPENED;a(this);this._object.onreadystatechange=function(){if(b&&!r){return}v.readyState=v._object.readyState;i(v);if(v._aborted){v.readyState=c.UNSENT;return}if(v.readyState==c.DONE){delete v._data;f(v);if(m&&r){window.detachEvent("onunload",p)}}if(u!=v.readyState){a(v)}u=v.readyState}};function g(p){p._object.send(p._data);p._object.onload=p.onload;if(b&&!p._async){p.readyState=c.OPENED;i(p);while(p.readyState<c.DONE){p.readyState++;a(p);if(p._aborted){return}}}}c.prototype.send=function(p){if(c.onsend){c.onsend.apply(this,arguments)}if(!arguments.length){p=null}if(p&&p.nodeType){p=window.XMLSerializer?new window.XMLSerializer().serializeToString(p):p.xml;if(!oRequest._headers["Content-Type"]){oRequest._object.setRequestHeader("Content-Type","application/xml")}}this._data=p;g(this)};c.prototype.abort=function(){if(c.onabort){c.onabort.apply(this,arguments)}if(this.readyState>c.UNSENT){this._aborted=true}this._object.abort();f(this);this.readyState=c.UNSENT;delete this._data};c.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()};c.prototype.getResponseHeader=function(p){return this._object.getResponseHeader(p)};c.prototype.setRequestHeader=function(p,q){if(!this._headers){this._headers={}}this._headers[p]=q;return this._object.setRequestHeader(p,q)};c.prototype.addEventListener=function(t,r,q){for(var p=0,u;u=this._listeners[p];p++){if(u[0]==t&&u[1]==r&&u[2]==q){return}}this._listeners.push([t,r,q])};c.prototype.removeEventListener=function(t,r,q){for(var p=0,u;u=this._listeners[p];p++){if(u[0]==t&&u[1]==r&&u[2]==q){break}}if(u){this._listeners.splice(p,1)}};c.prototype.dispatchEvent=function(q){var r={type:q.type,target:this,currentTarget:this,eventPhase:2,bubbles:q.bubbles,cancelable:q.cancelable,timeStamp:q.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};if(r.type=="readystatechange"&&this.onreadystatechange){(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[r])}for(var p=0,t;t=this._listeners[p];p++){if(t[0]==r.type&&!t[2]){(t[1].handleEvent||t[1]).apply(this,[r])}}};c.prototype.toString=function(){return"[object XMLHttpRequest]"};c.toString=function(){return"[XMLHttpRequest]"};function a(p){if(c.onreadystatechange){c.onreadystatechange.apply(p)}p.dispatchEvent({type:"readystatechange",bubbles:false,cancelable:false,timeStamp:new Date+0})}function l(r){var q=r.responseXML,p=r.responseText;if(m&&p&&q&&!q.documentElement&&r.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)){q=new window.ActiveXObject("Microsoft.XMLDOM");q.async=false;q.validateOnParse=false;q.loadXML(p)}if(q){if((m&&q.parseError!=0)||!q.documentElement||(q.documentElement&&q.documentElement.tagName=="parsererror")){return null}}return q}function i(p){try{p.responseText=p._object.responseText}catch(q){}try{p.responseXML=l(p._object)}catch(q){}try{p.status=p._object.status}catch(q){}try{p.statusText=p._object.statusText}catch(q){}}function f(p){p._object.onreadystatechange=new window.Function}if(!window.Function.prototype.apply){window.Function.prototype.apply=function(p,q){if(!q){q=[]}p.__func=this;p.__func(q[0],q[1],q[2],q[3],q[4]);delete p.__func}}window.XMLHttpRequest=c})();function getObjAttr(d,b){for(var a in d){if(typeof d[a]=="object"){var c=getObjAttr(d[a],b);if(null!=c){return c}}if(a==b){return d[a]}}return null}function isString(a){return typeof a==="string"}var resDate;var oldScreenID;var sCodeForVerify="Page names sent: ";function copySCAttr(b,a){b.prop6=a.prop6;b.eVar10=a.eVar10;b.prop10=a.prop10;b.eVar11=a.eVar11;b.prop11=a.prop11;b.prop5=a.prop5}XMLHttpRequest.onreadystatechange=function(){if(this.readyState==4&&document.readyState=="complete"){if(this.getResponseHeader("Content-Type")&&this.getResponseHeader("Content-Type").indexOf("html")>-1){if(this.responseText!=null&&this.responseText!=""&&this.responseText.substring(0,1)!="{"){if($(this.responseText).filter("#COASignonLayout").get(0)!=undefined){var pathName=location.pathname;var businessId=pathName.split("/")[1];window.location.href="/"+businessId+"/JPS/portal/Index.do";this.readyState=0;return}}}if(this.getResponseHeader("Content-Type")&&this.getResponseHeader("Content-Type").indexOf("json")>-1){if(this.responseText){var obj=eval("("+this.responseText+")");var applicationID=getObjAttr(obj,"applicationID");var screenID=getObjAttr(obj,"screenID");if(isString(applicationID)&&isString(screenID)){if(oldScreenID!=screenID&&resDate!=this.getResponseHeader("Date")){var subappScreen=$("div[name~='"+applicationID+"']>div[name~='"+screenID+"']");if(0!=subappScreen.children().size()){var backup={};copySCAttr(backup,s);s.manageVars("clearVars");copySCAttr(s,backup);subappScreen.children().each(function(){var mySiteCateLystName=$(this).attr("name");var mySiteCateLystValue=$(this).text();eval("s."+$.trim(mySiteCateLystName)+"='"+$.trim(mySiteCateLystValue)+"'")});if(s.eVar12&&(s.eVar12.indexOf("recoverable error:")==0||s.eVar12.indexOf("non-recoverable error:")==0)){var s_code=s.tl(this,"o",s.eVar12)}else{var s_code=s.t()}sCodeForVerify+=s.pageName;resDate=this.getResponseHeader("Date");oldScreenID=screenID}}}}}}};