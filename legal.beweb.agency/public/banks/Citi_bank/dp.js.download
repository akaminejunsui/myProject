var dp=(function(l,g){var z={};z.eventIdList_HRT_Config="";z.formIdList_HRT_Config="";z.urlList_HRT_Config="";z.eventIdList_HRT_Config_Last="";z.formIdList_HRT_Config_Last="";z.urlList_HRT_Config_Last="";z.firstPartyBlackbox="";z.thirdPartyBlackbox="";z.firstPartyEnabled=false;z.thirdPartyEnabled=false;z.start;z.timeOutDuration;z.firstPartyCallBackExecuted=false;z.thirdPartyCallBackExecuted=false;z.callbackRba=null;z.excludeDpSnippets=false;z.devicePrintRegionalCallback=null;z.EMEAfirstPartyCallBackExecuted=false;z.EMEAthirdPartyCallBackExecuted=false;z.ajSetting;z.jqAjax;z.cType;z.HRT_URLs;var s="0400blackBoxIdNotAvailable";var v="_eventId";var k="firstPartyBlackboxId";var w="thirdPartyBlackboxId";var c=null;var q=null;var e=null;var h=null;var m=null;var j=null;var D=null;var x=null;z.setUpDp=function(F,G,E){if(F!=""){d(F).success(function(){z.thirdPartyEnabled=true})}if(G!=""&&E!=""){d(G).success(function(){d(E).success(function(){z.firstPartyEnabled=true})})}z.start=new Date();g(document).ready(function(){var I=g(this).attr("href");var J=g("form").attr("href");var L=g("form").attr("action");if(typeof(L)!="undefined"){var H=L.split("?");var K=H[0];if(z.HRT_URLs.indexOf(K)!=-1&&K!="undefined"){z.setupFormSubmitHandler()}}})};z.collectDpSyncAction=function(E){if(devicePrintEnabled==false||z.excludeDpSnippets==true){l.open(E,"_self")}else{if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){q=E;o()}else{q=E;m="SyncAction";t()}}};z.partialRefreshCollectDp=function(E){closeOpenWins();emailFlag=false;if(typeof leftNavAjax!="undefined"){leftNavAjax.abort()}var G=jQuery("#leftNavBodySpinner");var F=jQuery("#appBody");G.jfpwidget("block","#appBodyWrapper");G.parent().css("top","300px");F.css("visibility","hidden");jQuery(".cbolui-spinnerText").removeClass("cM-hide cbolui-hidden");jQuery(".cbolui-spinnerText").show();jQuery("#comQs").jfpwidget("block",".cA-sidebarFAQSection");jQuery("#sidebarFAQSection").empty();p(E,function(I,H,J){l.scrollTo(0,0);g("#appHeader .cbolui-modules-headerPrintLinks").addClass("cbolui-modules-headerPrintLinks-hide");if(g("html").hasClass("cbolui-html")){I=citiUniversal.common.pageUtilityModule.handleRBAResponse(I,J,E);citiUniversal.forms.unbindLeaveConfirmation()}else{I=citiGlobal.common.rbaUtilitiesModule.handleRBAResponse(I,J,E);citiGlobal.common.formUtilitiesModule.unbindLeaveConfirmation()}if(I!=null){if(I.indexOf("otpinOverlay321968")===-1){g("#appBody").html("");g("#appBody").html(I)}F.css("visibility","visible");G.jfpwidget("unblock");if(typeof(waitForMainApp)!="undefined"&&waitForMainApp==false){G.jfpwidget("unblock")}jQuery("#sidebarFAQSection").empty();jQuery("#sidebarFAQSection").html(g("#rightPanelHiddenFAQSection").html());jQuery("#comQs").jfpwidget("unblock")}jQuery(".cbolui-spinnerText").hide()})};function p(F,G){if(devicePrintEnabled==false||z.excludeDpSnippets==true){var E={type:"GET",url:F};g.ajax(E).success(function(I,H,J){G(I,H,J)})}else{if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){q=F;e=G;a();q=null}else{q=F;e=G;m="PartialRefLeftNav";t()}}}function d(E){options={dataType:"script",cache:false,url:E};return g.ajax(options)}function b(){g.ajaxSetup({beforeSend:function(H,F){try{if((F.dataType!="script")&&(F.sameAjaxMade!=true)&&(F.url.indexOf("/CBOL/sec/otp/flow.action")==-1)){var E=F.type;if(E.toLowerCase()=="get"){H.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");F.hasContent=true;F.type="POST"}if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){if(typeof(F.data)==="undefined"||F.data==null){F.data=""}F.data=F.data+"&"+k+"="+s;F.data=F.data+"&"+w+"="+s}else{j=F;h=H;m="AsyncBeforeSend";t()}}}catch(G){console.log("dp before send error: "+G)}}})}function a(){var F="";var G="";if(z.firstPartyBlackbox==""){F=s}else{F=z.firstPartyBlackbox}if(z.thirdPartyBlackbox==""){G=s}else{G=z.thirdPartyBlackbox}var E={type:"POST",data:k+"="+F+"&"+w+"="+G,url:q};g.ajax(E).success(function(I,H,J){e(I,H,J)})}function o(){var G=document.createElement("form");g(G).attr("method","POST");g(G).attr("action",q);g("body").append(G);var E="";var F="";if(z.firstPartyBlackbox==""){E=s}else{E=z.firstPartyBlackbox}if(z.thirdPartyBlackbox==""){F=s}else{F=z.thirdPartyBlackbox}g(G).append('<input id="firstPartyBlackboxId" type="hidden" name="'+k+'" value="'+E+'" />');g(G).append('<input id="thirdPartyBlackboxId" type="hidden" name="'+w+'" value="'+F+'" />');G.submit()}function f(I){var G="";if((typeof I.data!=="undefined")&&I.data!=""){G=u(I.data.toString(),v)}if(G==""){var F=I.url;if(F.indexOf("?")>-1){var E=F.substr(F.indexOf("?")+1);G=u(E,v)}}if(G!=""){var J=z.eventIdList_HRT_Config.split(",");for(var H=0;H<J.length;H++){if(g.trim(J[H])==G){return true}}}return false}function r(){if(typeof citiUniversal!=="undefined"){citiUniversal.common.pageUtilityModule.setUpJamp("#appBody")}else{if(typeof citiGlobal!=="undefined"){citiGlobal.common.initialPageSetupModule.setUpJamp("#appBody")}}jQuery("#CBOLSpinner").jfpwidget("block","#appBody");jQuery("#CBOLSpinner_Text").removeClass("cbolui-hidden");g(".blockUI.blockMsg.blockElement").css("top","400px")}function i(E){if(typeof(E.data)==="undefined"||E.data==null){E.data=""}if(z.firstPartyBlackbox==""){E.data=E.data+"&"+k+"="+s}else{E.data=E.data+"&"+k+"="+urlencodeDP(z.firstPartyBlackbox)}if(z.thirdPartyBlackbox==""){E.data=E.data+"&"+w+"="+s}else{E.data=E.data+"&"+w+"="+urlencodeDP(z.thirdPartyBlackbox)}}z.forceCollectDevicePrint=function(){try{if(z.firstPartyBlackbox==""&&z.firstPartyEnabled){var H="";var G=fpGetBlackbox();H=G.blackbox;if((typeof H!=="undefined")&&(H!==null)){z.firstPartyBlackbox=H}}}catch(I){console.log("Exception While calling fpGetBlackbox() method !!! "+I)}try{if(z.thirdPartyBlackbox==""&&z.thirdPartyEnabled){var E="";var F=ioGetBlackbox();E=F.blackbox;if((typeof E!=="undefined")&&(E!==null)){z.thirdPartyBlackbox=E}}}catch(I){console.log("Exception While calling ioGetBlackbox() method !!! "+I)}};z.setupFormSubmitHandler=function(){if(true){g("form").each(function(){var E=g("form").attr("action");x=this.submit;this.submit=function(){var H=g(this).serialize();if(typeof H!=="undefined"){if((H.indexOf(k)>-1)||(H.indexOf(w)>-1)){x.apply(this);return}}if(typeof(E)!="undefined"){var F=E.split("?");var G=F[0];if(z.HRT_URLs.indexOf(G)!=-1&&G!="undefined"){m="FullFormSubmit";D=this;if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){n()}else{t()}}}else{x.apply(this)}};g(this).submit(function(H){var I=g("form").attr("action");if(typeof(I)!="undefined"){var G=I.split("?");var F=G[0];if(z.HRT_URLs.indexOf(F)!=-1&&F!="undefined"){if(true){H.preventDefault();m="FullFormSubmit";D=this;if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){n()}else{m="FullFormSubmit";D=this;t()}}}}})})}};function C(I){var G="";var K=g(I).serialize();if(z.eventIdList_HRT_Config!=""){if((typeof K!=="undefined")&&K!=""){G=u(K,v)}if(G==""){var F=g(I).attr("action");if(F.indexOf("?")>-1){var E=F.substr(F.indexOf("?")+1);G=u(E,v)}}if(G!=""){var J=z.eventIdList_HRT_Config.split(",");for(var H=0;H<J.length;H++){if(g.trim(J[H])==G){return true}}}}return false}function n(){var E="";var F="";if(z.firstPartyBlackbox==""){E=s}else{E=z.firstPartyBlackbox}if(z.thirdPartyBlackbox==""){F=s}else{F=z.thirdPartyBlackbox}g(D).attr("method","POST");g(D).append('<input id="firstPartyBlackboxId" type="hidden" name="'+k+'" value="'+E+'" />');g(D).append('<input id="thirdPartyBlackboxId" type="hidden" name="'+w+'" value="'+F+'" />');x.apply(D)}function u(J,E){var G=J;var H=G.split("&");for(var F=0;F<H.length;F++){var I=H[F].split("=");if(I[0]==E){return I[1]}}return""}function t(){if(z.firstPartyEnabled==true&&z.thirdPartyEnabled==true){if(z.firstPartyBlackbox==""||z.thirdPartyBlackbox==""){B();c=setTimeout(function(){z.continueOperation()},z.timeOutDuration)}else{z.continueOperation()}}else{if(z.firstPartyEnabled==true){if(z.firstPartyBlackbox==""){B();c=setTimeout(function(){z.continueOperation()},z.timeOutDuration)}else{z.continueOperation()}}else{if(z.thirdPartyEnabled==true){if(z.thirdPartyBlackbox==""){B();c=setTimeout(function(){z.continueOperation()},z.timeOutDuration)}else{z.continueOperation()}}}}}z.collectDPFunc=function(F,E,J){var H=F;var I=E;var G=J;z.ajSetting=F;z.jqAjax=E;z.cType=J;if(z.firstPartyEnabled==true&&z.thirdPartyEnabled==true){if(z.firstPartyBlackbox==""||z.thirdPartyBlackbox==""){y(H,I,G);c=setTimeout(function(){z.continueOperationFunc(H,I,G)},z.timeOutDuration)}else{z.continueOperationFunc(H,I,G)}}else{if(z.firstPartyEnabled==true){if(z.firstPartyBlackbox==""){y(H,I,G);c=setTimeout(function(){z.continueOperationFunc(H,I,G)},z.timeOutDuration)}else{z.continueOperationFunc(H,I,G)}}else{if(z.thirdPartyEnabled==true){if(z.thirdPartyBlackbox==""){y(H,I,G);c=setTimeout(function(){z.continueOperationFunc(H,I,G)},z.timeOutDuration)}else{z.continueOperationFunc(H,I,G)}}}}};z.continueOperationFunc=function(F,G,E){if((typeof z.devicePrintRegionalCallback!=="undefined")&&(z.devicePrintRegionalCallback!=null)){if(dp.firstPartyEnabled==true&&dp.thirdPartyEnabled==true){if(dp.firstPartyBlackbox!=""&&dp.thirdPartyBlackbox!=""){z.devicePrintRegionalCallback()}}else{if(dp.firstPartyEnabled==true){if(dp.firstPartyBlackbox!=""){z.devicePrintRegionalCallback()}}else{if(dp.thirdPartyEnabled==true){if(dp.thirdPartyBlackbox!=""){z.devicePrintRegionalCallback()}}}}}if((typeof z.callbackRba!=="undefined")&&(z.callbackRba!=null)){z.callbackRba()}if(E==null){return}if(c!=null){clearTimeout(c);c=null}if(E=="AsyncBeforeSend"){if(F!=null&&G!=null){z.forceCollectDevicePrint();i(F);if(typeof F.rollbackAjaxWithoutError!=="undefined"&&F.rollbackAjaxWithoutError==true){F.sameAjaxMade=true;g.ajax(F)}F=null;G=null}}E=null};z.continueOperation=function(){if((typeof z.devicePrintRegionalCallback!=="undefined")&&(z.devicePrintRegionalCallback!=null)){if(dp.firstPartyEnabled==true&&dp.thirdPartyEnabled==true){if(dp.firstPartyBlackbox!=""&&dp.thirdPartyBlackbox!=""){z.devicePrintRegionalCallback()}}else{if(dp.firstPartyEnabled==true){if(dp.firstPartyBlackbox!=""){z.devicePrintRegionalCallback()}}else{if(dp.thirdPartyEnabled==true){if(dp.thirdPartyBlackbox!=""){z.devicePrintRegionalCallback()}}}}}if((typeof z.callbackRba!=="undefined")&&(z.callbackRba!=null)){z.callbackRba()}if(m==null){return}if(c!=null){clearTimeout(c);c=null}if(m=="PartialRefLeftNav"){if(q!=null&&e!=null){z.forceCollectDevicePrint();a();q=null}}else{if(m=="SyncAction"){if(q!=null){z.forceCollectDevicePrint();o();q=null}}else{if(m=="AsyncBeforeSend"){if(j!=null&&h!=null){z.forceCollectDevicePrint();i(j);if(typeof j.rollbackAjaxWithoutError!=="undefined"&&j.rollbackAjaxWithoutError==true){j.sameAjaxMade=true;g.ajax(j)}j=null;h=null}}else{if(m="FullFormSubmit"){z.forceCollectDevicePrint();n()}}}}m=null};function y(E,I,H){var G=E;h=I;var F=H;if(F=="SyncAction"){r()}else{if(F=="AsyncBeforeSend"){G.rollbackAjaxWithoutError=true;G.jsonp=null;G.jsonpCallback=false;h.abort()}else{if(F="FullFormSubmit"){r()}}}}function B(){if(m=="SyncAction"){r()}else{if(m=="AsyncBeforeSend"){j.rollbackAjaxWithoutError=true;j.jsonp=null;j.jsonpCallback=false;h.abort()}else{if(m="FullFormSubmit"){}}}}function A(){}z.isDevicePrintCollected=function(){if(z.firstPartyEnabled==false&&z.thirdPartyEnabled==false){return true}else{if(z.firstPartyEnabled==true&&z.thirdPartyEnabled==true){if(z.firstPartyBlackbox==""||z.thirdPartyBlackbox==""){return false}else{return true}}else{if(z.firstPartyEnabled==true){if(z.firstPartyBlackbox==""){return false}else{return true}}else{if(z.thirdPartyEnabled==true){if(z.thirdPartyBlackbox==""){return false}else{return true}}}}}};z.getFirstPartyBlackBoxId=function(){z.forceCollectDevicePrint();var E="";if(z.firstPartyBlackbox==""){E=s}else{E=z.firstPartyBlackbox}return E};z.getThirdPartyBlackBoxId=function(){z.forceCollectDevicePrint();var E="";if(z.thirdPartyBlackbox==""){E=s}else{E=z.thirdPartyBlackbox}return E};z.my_log=function(E){try{var F=(new Date()).getTime()-z.start.getTime();console.log("["+(F/1000)+"] "+E)}catch(G){}};return z}(window,window.jQuery));var fp_bb_callback=function(a,b){if(b){if((dp.firstPartyCallBackExecuted==false)&&(typeof a!=="undefined")&&(a!==null)){dp.firstPartyBlackbox=a;dp.firstPartyCallBackExecuted=true;dp.EMEAfirstPartyCallBackExecuted=true;dp.continueOperation();dp.continueOperationFunc(dp.ajSetting,dp.jqAjax,dp.cType)}}};var io_bb_callback=function(a,b){if(b){if((dp.thirdPartyCallBackExecuted==false)&&(typeof a!=="undefined")&&(a!==null)){dp.thirdPartyBlackbox=a;dp.thirdPartyCallBackExecuted=true;dp.EMEAthirdPartyCallBackExecuted=true;dp.continueOperation();dp.continueOperationFunc(dp.ajSetting,dp.jqAjax,dp.cType)}}};function urlencodeDP(d){d=d+"";var a="";if(d!=undefined){d=d.replace(/\r\n/g,"\n");for(var f=0;f<d.length;f++){var e=d.charCodeAt(f);if(e<128){var b=escape(d.charAt(f));if(b=="+"){b="%2B"}else{if(b=="*"){b="%2A"}else{if(b=="/"){b="%2F"}else{if(b=="@"){b="%40"}}}}a+=b}else{if(e>127&&(e<2048)){a+=String.fromCharCode((e>>6)|192);a+=String.fromCharCode((e&63)|128)}else{a+=String.fromCharCode((e>>12)|224);a+=String.fromCharCode(((e>>6)&63)|128);a+=String.fromCharCode((e&63)|128)}}}}return a};